<html>

<head>
	<title>ReDI.js Kick Off!</title>
	<link rel="stylesheet" href="../../reveal.js/css/reveal.css">
	<link rel="stylesheet" href="../../reveal.js/css/theme/white.css">
	<link rel="stylesheet" href="../../reveal.js/lib/css/zenburn.css">
	<link rel="JavaScript" href="../../reveal.js/plugin/markdown/marked.js">
	<link rel="JavaScript" href="../../reveal.js/plugin/markdown/markdown.js">
	<style>
		.reveal pre {
			margin: 0;
		}

		.monospace {
			font-family: monospace !important;
		}

		.illustration {
			border: 0px
		}

		.reveal li {
			margin-bottom: 0.5em;
		}

		.reveal pre {
			width: 100%;
		}

		.reveal pre code {
			cursor: pointer;
		}

		.reveal li pre {
			width: fit-content;
		}

		.logo {
			position: fixed;
			/* Sit on top of the page content */
			z-index: 2;
			/* Specify a stack order in case you're using a different order for other elements */
		}
	</style>
</head>

<body>
	<a href="https://www.redi-school.org/"><img src="../../redi-school-logo.jpg" class="logo" /></a>
	<div class="reveal">
		<div class="slides">
			<section>
					<h1>Intruducing DOM</h1>
					<h2><i>The Document Object Model</i></h2>
			</section>

			<section>
				<h2>Back to the roots! ‚àöüå≤</h2>
				<h4>How do you make your site interactive?</h4>
				<img style="max-height: 35vh" src="https://media.giphy.com/media/3oKGz8Mr8stJzA0JDW/giphy.gif">
			</section>

			<section>
				<h4>DOM - The Document Object Model</h4>
				<ul>
					<li>Lets you inspect and <i>change</i> the content of HTML nodes.</li>
					<li>Model of the node tree, like you write it in HTML.</li>
					<li>Interact with it in JS using the <b>document</b> object.</li>
					<li>E.g. <i>document.getElementByIde</i>, <i>document.writeln</i></li>
				</ul>
			</section>

			<section>
				<p>How are you?</p>
				<button id="b1">Good üëç</button><button id="b2">Bad üëé</button>
				<p id="answer"></p>
				<style>
					#b1, #b2 {
						margin: 0.5em;
						padding: 0.5em 2em;
						font-size: 20pt;
						cursor: pointer;
					}
					#b1 {
						background-color: lightgreen;
					}
					#b2 {
						padding: 0.5em 2em;
						font-size: 20pt;
						background-color: lightcoral;
					}
				</style>
				<script>
					let b1 = document.getElementById("b1");
					let b2 = document.getElementById("b2");
					let a = document.getElementById("answer");

					function b1Click(event) {
						a.textContent = "That's great üòä";
					}

					function b2Click(event) {
						a.textContent = "Oh that sucks üò•";
					}

					b1.addEventListener("click", b1Click);
					b2.addEventListener("click", b2Click);
				</script>
			</section>

			<section>
				<h2>Questions ü§î</h2>
				<h4>In JS, how do you ...</h4>
				<ol>
					<li class="fragment">run code when a HTML button is clicked?</li>
					<li class="fragment">change the text inside HTML elements from JS?</li>
					<li class="fragment">find and use HTML elements (like buttons or paragraphs)?</li>
				</ol>
			</section>

			<section>
				<h4>Let's start with</h4>
				<h3>3. How to find HTML elements in JS?</h4>
				<ul>
					<li class="fragment">In JS, you have full access to the web page</li>
					<li class="fragment">You can store HTML elements in variables...</li>
					<li class="fragment">...and then change, delete, duplicate, etc. them</li>
				</ul>
			</section>

			<section>
				<h3>3. How to find HTML elements in JS?</h4>
				<ul>
					<li class="fragment">It's super easy when your element has an ID:</li>
					<li class="fragment">
						<pre><code data-trim>
							&lt;h1 id="site-header"&gt;My website&lt;/h1&gt;
						</code></pre>
					</li>
					<li class="fragment">
						<pre><code data-trim>
							let headerElement = document.getElementById("site-header");
						</code></pre>
					</li>
					<li class="fragment">There are also other ways, but let's just use IDs for now</li>
				</ul>
			</section>

			<section>
				<h2>Quiz:</h2>
				<pre><code data-trim>
					&lt;h2 id="list-header"&gt;My hobbies:&lt;/h2&gt;
					&lt;ul id="hobby-list"&gt;
						&lt;li id="hobby-reading"&gt;Reading&lt;/li&gt;
						&lt;li id="hobby-movies"&gt;Watch movies&lt;/li&gt;
					&lt;/ul&gt;
				</code></pre>
				<br>
				<ul>
					<li class="fragment">How do you get the "watch movies" list element?</li>
					<li class="smaller answer fragment"><code>document.getElementById("hobby-movies");</code></li>
					<li class="fragment">How do you get the list itself?</li>
					<li class="smaller answer fragment"><code>document.getElementById("hobby-list");</code></li>
				</ul>
			</section>

			<section>
				<h4>2. How do you read / change the text inside a HTML element?</h4>
				<ul>
					<li class="fragment">To read: <code>element.textContent</code></li>
					<li class="fragment">
						Example:
						<pre><code data-trim>
							&lt;p id="paragraph"&gt;Blabla&lt;/p&gt;
						</code></pre>
						<p id="paragraph">Blabla</p>
						<pre class="fragment"><code data-trim>
							let pElement = document.getElementById("paragraph");
							alert(pElement.textContent);
						</code></pre>
					</li>
				</ul>
			</section>

			<section class="smaller">
				<h2>Exercise</h2>
				<ul>
					<li>Create a HTML page with a paragraph containing "Hello World"</li>
					<li>Add a JS file which <code>alert(...)</code>s the text in the paragraph</li>
					<li class="emphasis">
						Hints:
						<ul class="smaller">
								<li class="emphasis">Give the paragraph a good ID</li>
								<li class="emphasis">Use <code>document.getElementById(...)</code> to select it</li>
								<li class="emphasis">Use <code>.textContent</code> to get the text</li>
						</ul>
					</li>
				</ul>
			</section>

			<section>
				<h2>Questions ü§î</h2>
				<h4>In JS, how do you ...</h4>
				<ol>
					<li class="fragment">run code when a HTML button is clicked?</li>
					<li class="fragment">change the text inside HTML elements from JS?</li>
					<li class="fragment">find and use HTML elements (like buttons or paragraphs)?</li>
				</ol>
			</section>

			<section class="smaller">
				<h4>1. How do you run code when a button is clicked?</h4>
				<ul>
					<li class="fragment">You need to tell the browser: Whenever someone clicks on this, run this function</li>
					<li class="fragment">Functions that react to events are called <span class="emphasis">event handlers</span></li>
					<li class="fragment">Add a click event handler by setting the <code>onclick</code> <b>attribute</b> to a function in you JS</li>
					<li class="fragment">Many more events! (click, mousedown, mousemove, keydown, change, resize, ...)</li>
				</ul>
			</section>

			<section class="smaller">
				<h4>Example</h4>
					<ul>
						<li>HTML:
							<pre><code data-trim>
								<button id="button" onclick="buttonClicked()">Click me</button>
							</code></pre>
						</li>
						<li class="fragment">JS:
							<pre><code data-trim>			
								function buttonClicked() {
									alert("Click!");
								}
							</code></pre>
						</li>
					</ul>

			</section>

			<section class="smaller">
				<h2>Text swapping 2.0</h2>
				<ul>
					<li class="fragment">Now we'll improve the text swapping exercise by using a button to swap!</li>
					<li class="fragment">In the HTML, we add a button with onclick handler</li>
					<li class="fragment">In JS we'll create a function that implements the event handler and swaps the paragraphs</li>
				</ul>
			</section>

			<section class="smaller">
				<h2>Exercise</h2>
				<ul>
					<li>Create a button in HTML with <code>&lt;button&gt;</code>. Its text should be "don't click me"</li>
					<li>Add an event handler. When clicked, the button's text should change to "what did I say?"</li>
					<li class="even smaller emphasis">Hint:<br>Use the <code>onclick</code> attribute and to call a function you define in JS</li>
				</ul>
			</section>

			<section>
				<h2>DOM - Document Object Model</h2>
				<p><i>Let's look at it in detail</i></p>
			</section>

			<section>
				<ul>
					<li>Under the cover the browser make sense of all the HTML, CSS, and JS in a hierachical structure.
					</li>
					<li>Document Object Model or DOM</li>
				</ul>
				<p>A simplified view</p>
				<img src="assets/domtree.png" alt="dom tree">
			</section>
			<section>
				<ul>
					<li>Everything that make up of the DOM is generally known as <span class="emphasis">nodes</span>
					</li>
					<img src="assets/nodes.png" alt="nodes">
				</ul>
			</section>
			<section>
				<p>Before we go off traversing the tree and modifing the DOM, we need to know 2 special objects</p>
				<ul>
					<li class="fragment">window</li>
					<li class="fragment">document</li>
					<img class="fragment" src="assets/domtree.png" alt="dom tree">
				</ul>
			</section>

			<section>
				<h3>window</h3>
				<p class="fragment">Root of the DOM</p>
				<p class="fragment">deals with the browser window</p>
				<img class="fragment" src="assets/window.png" alt="dom tree">
			</section>
			<section>
				<h3>window</h3>
				<ul>
					<li class="fragment">deals with the browser window</li>
					<li class="fragment">accessing current URL</li>
					<li class="fragment">using local storage</li>
					<li class="fragment">setting status text</li>
				</ul>
			</section>
			<section>
				<h3>We all know and love <span class="emphasis">document</span object></h3>
				<p class="fragment">Document has to do with everything inside your document</p>
				<img class="fragment" src="assets/document.png" alt="dom tree">
			</section>
			<section>
				<h3>What can we do with document?</h3>
				<ul>
					<li class="fragment">read element</li>
					<li class="fragment">modify element</li>
					<li class="fragment">add/delete element</li>
					<li class="fragment">change attributes on an element</li>
				</ul>
			</section>
			<section>
				<img src="assets/recap.png" style="width:100%" alt="">
			</section>
			<section>
				<p>parent, children, siblings</p>
				<img src="assets/domrelationship.png" style="width:80%" alt="">
			</section>
			<section>
				<p>DOM traversing</p>
				<img src="assets/domtraverse.png" style="width:80%" alt="dom traverse">
			</section>
			<section>
				<p>DOM traversing</p>
				<img src="assets/domtraverse2.png" style="width:70%" alt="dom parent children">
			</section>
			<section>
				<h3>Example 1: Getting the first child element</h3>
				HTML:
				<pre><code data-trim>
					<ul id="shoppingList">
						<li>Milk</li>
						<li>Eggs</li>
						<li>Carrots</li>
					</ul>
				</code></pre>
				JS:
				<pre class="fragment"><code data-trim>
					let listEl = document.getElementById("shoppingList");
					alert(listEl.firstElementChild.textContent)
				</code></pre>
			</section>
			<section>
				<h3>Example 2: Getting the number of children</h3>
				HTML:
				<pre><code data-trim>
					<ul id="shoppingList">
						<li>Milk</li>
						<li>Eggs</li>
						<li>Carrots</li>
					</ul></code></pre>
				JS:
				<pre class="fragment"><code data-trim>
					let listEl = document.getElementById("shoppingList");
					alert(listEl.childElementCount)
				</code></pre>
			</section>
			<section>
				<h3>Example 2: Getting the number of children</h3>
				HTML:
				<pre><code data-trim>
					<ul id="shoppingList">
						<li>Milk</li>
						<li>Eggs</li>
						<li>Carrots</li>
					</ul>
				</code></pre>
				JS:
				<pre><code data-trim>
					let listEl = document.getElementById("shoppingList");
					alert(listEl.childElementCount)
				</code></pre>
				<ul>
					<li>Try adding a few more items, does the count reflect the number of items?</li>
					<li>What happens when there are no children?</li>
				</ul>
			</section>
			<section>
				<h3>Example 3: Accessing all the children</h3>
				HTML:
				<pre><code data-trim>
					<ul id="shoppingList">
						<li>Milk</li>
						<li>Eggs</li>
						<li>Carrots</li>
					</ul>
				</code></pre>
				JS:
				<pre><code data-trim>
					let listEl = document.getElementById("shoppingList");
					alert(listEl.children)
				</code></pre>
				What happened?
			</section>

			<section>
				<h3>Children returns an array!</h3>
				<p>How do we loop through an array?</p>
				<p>You can get its elements</p>
				<pre><code data-trim>
					listEl.children[0]
					listEl.children[1]
					listEl.children[2]
					// ...
				</code></pre>
			</section>

			<section>
				<h3>Creating new elements</h3>
				<p><i>Follow this workflow:</i></p>
				<ol>
					<li>Create a new item with <b>document.createElement(tagName)</b></li>
					<li>Configure the element, e.g. set its <b>textContent</b></li>
					<li>Append it to an existing item using <b>appendChild</b></li>
				</ol>
			</section>

			<section class="">
				<h5>How to create a new <code>&lt;p></code>-element in JS?</h5>
				<pre class="fragment"><code data-trim>
							let newEl = document.createElement("p");
						</code></pre>
				<br>
				<h5 class="fragment">How to set the text inside it?</h5>
				<pre class="fragment"><code data-trim>
							newEl.textContent = "Hello world!";
						</code></pre>
				<br>
				<h5 class="fragment">How to append it to an existing div?</h5>
				<pre class="fragment"><code data-trim>
							divEl = ...;
							divEl.appendChild(newEl);
				</code></pre>
			</section>

			<section>
				<h3>Example: Adding cereals</h3>
				HTML:
				<pre><code data-trim>
					<ul id="shoppingList">
						<li>Milk</li>
						<li>Eggs</li>
						<li>Carrots</li>
					</ul>
				</code></pre>
				JS:
				<pre class="fragment"><code data-trim>
					let listEl = document.getElementById("shoppingList");
					let cerealsElement = document.createElement("li");
					cerealsElement.textContent = "Cereals";
					listEl.appendChild(cerealsElement);
				</code></pre>
			</section>

			<section>
				<h3>Exercise: Shopping list</h3>
				<ul>
					<li>Let the user add new items to the list!</li>
					<li>In HTML create a text input and a button that sais "Add"</li>
					<li>When the button is clicked, the inputs text (<b>.value</b>) should be added to the shopping list.</li>
					<li>For that you have to create a new li element (<b>document.createElement</b>) ...</li>
					<li>... modify its <b>textContent</b></li>
					<li>... and append it to the shopping list element</li>
				</ul>
			
			</section>
		</div>
	</div>


	<script src="../../jquery-3.3.1.slim.min.js"></script>
	<script src="../../reveal.js/lib/js/head.min.js"></script>
	<script src="../../reveal.js/js/reveal.js"></script>
	<script>
		Reveal.initialize({
			history: true,
			dependencies: [
				{ src: '../../reveal.js/plugin/highlight/highlight.js', async: false, callback: function () { hljs.initHighlightingOnLoad(); } },
			]
		});

		// Make each code example executable by clicking it:
		$(document).ready(function () {
			$('code').click(function (event) {
				console.info('Click!', $(this).text());
				eval($(this).text());
			});
		});
	</script>
</body>

</html>
